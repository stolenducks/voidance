# Hardware-specific Sway configuration
# Optimized for ThinkPad X1 Carbon 8th Gen and similar hardware

# =============================================================================
# HARDWARE-SPECIFIC OUTPUT CONFIGURATION
# =============================================================================

# ThinkPad X1 Carbon 8th Gen display configuration
output eDP-1 {
    resolution 1920x1080
    position 0,0
    # Enable adaptive sync if available
    adaptive_sync on
}

# External display configurations
# Uncomment and modify for your setup
output "Dell Inc. Dell U2720DE 4X7T893" {
    resolution 2560x1440
    position 1920,0
    scale 1.0
}

output "Goldstar Company Ltd LG ULTRAGEAR 0x00010101" {
    resolution 2560x1440
    position 1920,0
    refresh 144Hz
    adaptive_sync on
}

# =============================================================================
# INPUT DEVICE CONFIGURATION
# =============================================================================

# ThinkPad keyboard configuration
input "1:1:AT_Translated_Set_2_keyboard" {
    xkb_layout us
    xkb_options ctrl:nocaps  # Caps Lock as Ctrl
    repeat_delay 250
    repeat_rate 30
}

# ThinkPad TrackPoint configuration
input "TPPS/2 Elan TrackPoint" {
    accel_profile flat
    pointer_accel 0.3
    scroll_factor 1.0
}

# ThinkPad TouchPad configuration
input "SynPS/2 Synaptics TouchPad" {
    tap enabled
    natural_scroll enabled
    dwt enabled
    drag enabled
    drag_lock enabled
    middle_emulation enabled
    scroll_method two_finger
    accel_profile adaptive
    pointer_accel 0.5
}

# USB Mouse configuration
input "1133:49710:Logitech_G502" {
    accel_profile flat
    pointer_accel 0.0
    scroll_button 274
    scroll_method on_button_down
}

# =============================================================================
# PERFORMANCE OPTIMIZATIONS
# =============================================================================

# Enable vsync for smoother rendering
# This can be disabled for competitive gaming
# output * max_render_time off

# GPU-specific optimizations
# Intel integrated graphics optimizations
output * {
    # Enable tear-free rendering
    max_render_time 2
}

# =============================================================================
# BATTERY OPTIMIZATIONS
# =============================================================================

# Reduce refresh rate on battery (if supported)
# This requires additional scripting to detect battery state
# Uncomment when battery detection script is available
# exec_always ~/.config/sway/scripts/battery-optimization.sh

# =============================================================================
# THINKPAD-SPECIFIC KEYBINDINGS
# =============================================================================

# ThinkPad function keys
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle

# ThinkPad microphone mute LED (requires thinkpad_acpi kernel module)
# This would need additional scripting to control the LED

# ThinkPad backlight control
bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86MonBrightnessDown exec brightnessctl set 5-%

# ThinkPad video output switching
# This would require additional scripting for display switching
# bindsym XF86Display exec ~/.config/sway/scripts/display-switch.sh

# ThinkPad sleep/hibernate
bindsym XF86Sleep exec systemctl suspend
bindsym XF86Hibernate exec systemctl hibernate

# =============================================================================
# EDUCATIONAL NOTES
# =============================================================================

# This hardware-specific configuration demonstrates:
# - Display optimization for laptop panels
# - Input device configuration for ThinkPad hardware
# - Performance tuning for integrated graphics
# - Battery optimization strategies
# - Hardware-specific keybindings

# Learning tips:
# - Use 'swaymsg -t get_inputs' to identify your input devices
# - Use 'swaymsg -t get_outputs' to identify your displays
# - Adaptive sync reduces screen tearing on supported displays
# - Natural scroll reverses touchpad scroll direction
# - DWT (disable while typing) prevents accidental cursor movement

# Customization:
# - Identify your specific device names with swaymsg commands
# - Adjust pointer acceleration to your preference
# - Modify keybindings for your ThinkPad model
# - Add external display configurations for your setup
# - Enable/disable features based on your hardware capabilities