<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <!--
    Font Configuration for Voidance Desktop Environment
    Educational: Each setting includes explanation for learning
    
    This configuration provides optimal font rendering for:
    - Montserrat: UI fonts (clean, modern sans-serif)
    - Inconsolata: Terminal fonts (readable monospace)
  -->

  <!-- =============================================================================
       FONT DIRECTORIES
       ============================================================================= -->

  <!-- Add user font directory -->
  <dir>/home/${USER}/.local/share/fonts</dir>
  
  <!-- Add system font directories -->
  <dir>/usr/share/fonts</dir>
  <dir>/usr/local/share/fonts</dir>

  <!-- =============================================================================
       FONT ALIASES AND PREFERENCES
       ============================================================================= -->

  <!-- Prefer Montserrat for sans-serif fonts -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Montserrat</family>
      <family>Noto Sans</family>
      <family>DejaVu Sans</family>
    </prefer>
  </alias>

  <!-- Prefer Inconsolata for monospace fonts -->
  <alias>
    <family>monospace</family>
    <prefer>
      <family>Inconsolata</family>
      <family>JetBrains Mono</family>
      <family>DejaVu Sans Mono</family>
      <family>Noto Sans Mono</family>
    </prefer>
  </alias>

  <!-- Prefer serif fonts -->
  <alias>
    <family>serif</family>
    <prefer>
      <family>Noto Serif</family>
      <family>DejaVu Serif</family>
      <family>Times New Roman</family>
    </prefer>
  </alias>

  <!-- =============================================================================
       FONT SUBSTITUTION
       ============================================================================= -->

  <!-- Substitute common web fonts -->
  <match target="pattern">
    <test name="family"><string>Helvetica</string></test>
    <edit name="family" mode="prepend" binding="strong">
      <stringMontserrat</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="family"><string>Arial</string></test>
    <edit name="family" mode="prepend" binding="strong">
      <stringMontserrat</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="family"><string>Consolas</string></test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Inconsolata</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="family"><string>Monaco</string></test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Inconsolata</string>
    </edit>
  </match>

  <!-- =============================================================================
       FONT RENDERING SETTINGS
       ============================================================================= -->

  <!-- General font rendering settings -->
  <match target="font">
    <!-- Enable antialiasing for smooth rendering -->
    <edit name="antialias" mode="assign"><bool>true</bool></edit>
    
    <!-- Enable hinting for better clarity -->
    <edit name="hinting" mode="assign"><bool>true</bool></edit>
    
    <!-- Use slight hinting for natural appearance -->
    <edit name="hintstyle" mode="assign"><const>hintslight</const></edit>
    
    <!-- Enable subpixel rendering for LCD displays -->
    <edit name="rgba" mode="assign"><const>rgb</const></edit>
    
    <!-- Autohinter for better font rendering -->
    <edit name="autohint" mode="assign"><bool>true</bool></edit>
  </match>

  <!-- =============================================================================
       SIZE-SPECIFIC SETTINGS
       ============================================================================= -->

  <!-- Disable hinting for very small fonts -->
  <match target="font">
    <test name="size" compare="less"><double>8</double></test>
    <edit name="hinting" mode="assign"><bool>false</bool></edit>
  </match>

  <!-- Optimize rendering for terminal fonts -->
  <match target="pattern">
    <test name="family"><string>Inconsolata</string></test>
    <edit name="antialias" mode="assign"><bool>true</bool></edit>
    <edit name="hinting" mode="assign"><bool>true</bool></edit>
    <edit name="hintstyle" mode="assign"><const>hintmedium</const></edit>
    <edit name="rgba" mode="assign"><const>none</const></edit>
  </match>

  <!-- Optimize rendering for UI fonts -->
  <match target="pattern">
    <test name="family"><stringMontserrat</string></test>
    <edit name="antialias" mode="assign"><bool>true</bool></edit>
    <edit name="hinting" mode="assign"><bool>true</bool></edit>
    <edit name="hintstyle" mode="assign"><const>hintslight</const></edit>
    <edit name="rgba" mode="assign"><const>rgb</const></edit>
  </match>

  <!-- =============================================================================
       BOLD AND ITALIC HANDLING
       ============================================================================= -->

  <!-- Synthetic bold handling -->
  <match target="font">
    <test name="weight" compare="more"><const>medium</const></test>
    <edit name="embolden" mode="assign"><bool>false</bool></edit>
  </match>

  <!-- Synthetic italic handling -->
  <match target="font">
    <test name="slant" compare="more"><const>roman</const></test>
    <test name="slant" compare="less"><const>italic</const></test>
    <edit name="slant" mode="assign"><const>italic</const></edit>
  </match>

  <!-- =============================================================================
       FALLBACK FONTS
       ============================================================================= -->

  <!-- Generic fallback configuration -->
  <alias>
    <family>sans-serif</family>
    <default>
      <family>Montserrat</family>
    </default>
  </alias>

  <alias>
    <family>serif</family>
    <default>
      <family>Noto Serif</family>
    </default>
  </alias>

  <alias>
    <family>monospace</family>
    <default>
      <family>Inconsolata</family>
    </default>
  </alias>

  <!-- =============================================================================
       LOCALE AND INTERNATIONALIZATION
       ============================================================================= -->

  <!-- Font configuration for different locales -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh</string>
    </test>
    <edit name="family" mode="prepend">
      <string>Noto Sans CJK</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ja</string>
    </test>
    <edit name="family" mode="prepend">
      <string>Noto Sans CJK JP</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ko</string>
    </test>
    <edit name="family" mode="prepend">
      <string>Noto Sans CJK KR</string>
    </edit>
  </match>

  <!-- =============================================================================
       EDUCATIONAL NOTES
       ============================================================================= -->

  <!--
    This font configuration is designed to be educational:
    - Each section is clearly labeled with purpose
    - Settings include comments explaining their function
    - Font choices optimized for readability and aesthetics
    - Rendering settings balanced for different display types
    - Fallback fonts ensure broad character coverage

    Learning tips:
    - Antialiasing smooths font edges for better readability
    - Hinting improves font clarity at small sizes
    - Subpixel rendering enhances text on LCD displays
    - Font aliases ensure consistent text appearance
    - Fallback fonts handle missing characters gracefully

    Customization:
    - Copy this file to ~/.config/fontconfig/fonts.conf
    - Modify font families to match your preferences
    - Adjust rendering settings for your display
    - Add new font directories as needed
    - Test changes with fc-match command

    Testing:
    - fc-match sans-serif - Test sans-serif font matching
    - fc-match monospace - Test monospace font matching
    - fc-list :family=Montserrat - List Montserrat fonts
  -->
</fontconfig>